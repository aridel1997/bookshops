<mvc:View controllerName="ns.newbookshop.controller.Worklist"
	xmlns="sap.m"
	xmlns:form="sap.ui.layout.form"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.f.semantic"
	xmlns:smartFilterBar="sap.ui.comp.smartfilterbar">

	<semantic:SemanticPage showFooter="true" fitContent="true">

		<semantic:titleHeading >
			<Title text="Bookford"/>
		</semantic:titleHeading>

		<semantic:headerContent>
			<smartFilterBar:SmartFilterBar 
				id="smartFilterBar" 
				persistencyKey="UniqueAndStablePersistencyKey"
				entitySet="Books"
				considerSelectionVariants="true" 
				basicSearchFieldName="title" 
				enableBasicSearch="true" 
				showClearButton="true">
				<smartFilterBar:layoutData>
					<FlexItemData shrinkFactor="0"/>
				</smartFilterBar:layoutData>
						
			</smartFilterBar:SmartFilterBar>
		</semantic:headerContent>

		<semantic:content>
			<Table 
				items="{path:'/Books'}">
				<columns>
					<Column>
						<Text />
					</Column>
					<Column>
						<Text text="Book" />
					</Column>
					<Column>
						<Text text="Genre" />
					</Column>
					<Column>
						<Text text="Price" />
					</Column>
					<Column>
						<Text text="Rating" />
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Navigation" press = "onBooksTableItemSelect">
						<cells>
							<Image src="{bookPictureURL}"  width="20%"/>
							<ObjectIdentifier
								title="{title}"
								text="{author/name}"/>
							 <Text text="{genre}" />
							<ObjectNumber
									number="{
										parts:[{path:'price'},{path:'currency_code'}],
										type: 'sap.ui.model.type.Currency',
										formatOptions: {showMeasure: false}
									}"
									unit="{currency_code}" />
							<RatingIndicator  value="{rating}" />
						</cells>
					</ColumnListItem>				
				</items>
			</Table>
		</semantic:content>
		<semantic:positiveAction>
			<semantic:PositiveAction text="Create" press="onCreateBookPress"/>
		</semantic:positiveAction>
	</semantic:SemanticPage>

</mvc:View>